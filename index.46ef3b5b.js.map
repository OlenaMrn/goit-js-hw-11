{"mappings":"AAIA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,iBAAkBF,SAASC,cAAc,YACzCE,YAAaH,SAASC,cAAc,eAGtCH,EAAKC,WAAWK,iBAAiB,UAOjC,SAAkBC,GACdA,EAAEC,iBAEFC,EAAcC,MAAQH,EAAEI,cAAcC,SAASC,YAAYC,MAC3DL,EAAcM,YAClBN,EAAcO,cAPI,G,IAJlBhB,EAAKK,YAAYC,iBAAiB,SAelC,WACCG,EAAcO,cAZG,G,IAFlB,MAAMP,EAAgB,ICbP,MAMXO,gBAEA,MAMMC,EAAM,qEAA6CC,KAAKL,gCAAgCK,KAAKC,OAEnGC,MAAMH,GACHI,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACFN,KAAKC,MAAQ,CAAC,IAEjBM,OAAMC,GAASC,QAAQC,IAAI,U,CAG9Bb,YACIG,KAAKC,KAAO,C,CAIZT,YACA,OAAOQ,KAAKL,W,CAGZH,UAAMmB,GACNX,KAAKL,YAAcgB,C,CAjCvBC,cACIZ,KAAKL,YAAc,GACnBK,KAAKC,KAAO,C","sources":["src/index.js","src/pix-api-service.js"],"sourcesContent":["import './css/styles.css';\nimport axios from 'axios';\nimport PixApiService from './pix-api-service.js'\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  galleryContainer: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nconst pixApiService = new PixApiService();\n\nlet searchQuery = \"\";\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    pixApiService.query = e.currentTarget.elements.searchQuery.value;\n    pixApiService.resetPage ();\npixApiService.fetchPictures(searchQuery);\n\n}\n\nfunction onLoadMore() {\n pixApiService.fetchPictures(searchQuery);\n };","export default class PixApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n    }\n    \n    fetchPictures() {\n    // console.log(this);\n    const API_KEY = '34494219-18836f66a27c5c5fdb378157c';\n    const per_page = 40;\n    // const image_type = 'photo';\n    // const orientation = 'horizontal';\n    // const safesearch = true;\n\n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${this.searchQuery}&per_page=40&page=${this.page}`;\n\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n          this.page += 1;\n      })\n      .catch(error => console.log('error'));\n    }\n    \n    resetPage() {\n        this.page = 1;\n\n}\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n\n\n}\n\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","galleryContainer","loadMoreBtn","addEventListener","e","preventDefault","$1f0dc3b9307be026$var$pixApiService","query","currentTarget","elements","searchQuery","value","resetPage","fetchPictures","url","this","page","fetch","then","response","json","data","catch","error","console","log","newQuery","constructor"],"version":3,"file":"index.46ef3b5b.js.map"}